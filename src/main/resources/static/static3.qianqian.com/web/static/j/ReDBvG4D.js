define(["jPlugin/showTips"],function(){var e=window.ting||{};(function(e){var i={};var p=false;i.tipLogger=function(i,p,s,t){e.logger.log(i,{page:p,pos:s,expoitem:t})};i._spreadTipContent=function(e){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>'+e.title+"：</h4>"+'<p class="mesg-box">'+e.html+"</p>"+"</div></div>"};i._genTipContent=function(e,i){if(e=="before"){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>温馨提示：</h4>您的千千音乐VIP会员服务将于<em>'+i+"天后到期</em>。"+'<div class="action"><a class="close-link" href="http://static3.qianqian.com/home/payment/cloud?type=up&level=comm&pst=pay_tips" target="_blank">立即续费</a><span class="css-hot"></span></div>'+"</div></div>"}else if(e=="after"){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>温馨提示：</h4>您的千千音乐VIP会员服务已经到期。'+'<div class="action"><a class="close-link" href="http://static3.qianqian.com/home/payment/cloud?type=add&level=comm&pst=pay_tips" target="_blank">重新开通<span class="css-hot"></span></a>'+"</div></div>"}};i._expireTips=function(e,s){$(".vip-intro").showTips({target:i._genTipContent(e,s),left:-44,top:8,onClose:function(){$.cookie("vipEx","1",{expires:1})}});p=true;i.tipLogger("exposure","home","","toend");$(".css-close").click(function(){$(".vip-expire").remove()});var t=$(".close-link");t.click(function(){i.tipLogger("click","home","toend","")})};i._spreadTips=function(e){$(".vip-intro").showTips({target:i._spreadTipContent(e),left:-44,top:8,onClose:function(){$.cookie("vipSp","2",{expires:1})}});p=true;i.tipLogger("exposure","home","","tips");var s=$(".mesg-box");s.click(function(){i.tipLogger("click","home","tips","")})};i.spreadTips=function(){e.connect.vipSpread(null,null,function(e){if(e.data){i._spreadTips(e.data)}},function(e){})};i.expireTips=function(e){if(e>=-7&&e<=-1){i._expireTips("before",-e)}else if(e!=null&&e>=0&&e<7){i._expireTips("after")}};i.showspreadTips=function(){if(!$.cookie("vipSp")&&p==false){i.spreadTips()}};i.showexpireTips=function(e){if(!$.cookie("vipEx")&&p==false){i.expireTips(e)}};var s=/\/king/.test(location.pathname);var t={buy:"/home/payment/cloud?type=add&level=comm&pst=pay_plaza"+(s?"&_vk=pay_k_load":""),renew:"/home/payment/cloud?type=up&level=comm&pst=pay_plaza"+(s?"&_vk=pay_k_load":""),upgrade:"/home/payment/cloud?type=upgrade&level=gold&pst=pay_plaza"+(s?"&_vk=pay_k_load":""),intro:"/vip?pst=pay_plaza"+(s?"&_vk=pay_k_load":""),vipCenter:"/vip/user?pst=pay_plaza"+(s?"&_vk=pay_k_load":""),invite:"/vip/invite?pst=pay_plaza"+(s?"&_vk=pay_k_load":"")};var a;var n=function(e){a=e};i.getStatus=function(){return a};i.genInitFn=function(i,p){n(i);switch(i){case"comm":return function(){e.vip.showexpireTips(p);e.vip.showspreadTips();$(".vip-intro").find("#userCenter").attr({href:t.upgrade}).html("升级VIP")};break;case"gold":return function(){e.vip.showexpireTips(p);e.vip.showspreadTips();$(".vip-intro").find("#userCenter").attr({href:t.renew}).html("续费VIP")};break;case"not":return function(){e.vip.showspreadTips();$(".vip-intro").find("#userCenter").attr({href:t.renew}).html("开通VIP")};break;case"anonymous":return function(){e.vip.showspreadTips();$(".vip-intro").find("#userCenter").attr({href:t.renew}).html("开通VIP")};break}};i.addEvents=function(){$("#userCenter").attr("href","/vip").attr("target","_blank")};i.addEvents();e.vip=i})(e)});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/