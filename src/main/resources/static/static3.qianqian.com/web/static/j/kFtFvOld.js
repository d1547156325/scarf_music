(function(i,o){var a=i.browser.msie&&i.browser.version=="6.0";i.widget("ting.dialog",{options:{autoOpen:false,width:620,opacity:.5,close:{btn:".close",callback:function(){}},destroy:false,confirm:{btn:"",close:true,callback:function(){},text:"确认"},cancel:{btn:"",close:true,callback:function(){},text:"取消"},bgiframe:false,fadeSpeed:250,title:null,className:"",showBtn:false,showBg:true,stick:false},_create:function(){var o=this.options,a=this.element;if(o.title){if(o.showBtn){var e=i('<div class="footer"></div>');if(o.confirm){this.confirm=i('<a class="btn btn-a confirm"><span class="inner"><span class="txt">'+o.confirm.text+"</span></span></a>");e.append(this.confirm)}if(o.cancel){this.cancel=i('<a class="btn btn-b cancel"><span class="inner"><span class="txt">'+o.cancel.text+"</span></span> </a>");e.append(this.cancel)}}var n=i('<div class="dialog-box '+o.className+'"><div class="head"><span class="close" title="关闭">关闭</span><h2 class="title">'+o.title+'</h2></div><div class="body"></div></div>');n.find(".body").append(a).append(e);this.element=n;i("body").append(this.element)}if(o.stick){i("body").append(this.element)}},_init:function(){var i=this,o=i.options;i._createDialog();i._initEvent();o.autoOpen&&i.show()},_createDialog:function(){var o=this,a=o.options;o.overlay=i("<div id='dialogBg' class='dialog-bg'></div>");o.dialogBox=o.element;!i("#dialogBg").length&&i("body").append(o.overlay);o.dialogBg=i("#dialogBg")},show:function(){var o=this,e=o.options;var n=o.dialogBox.outerHeight();if(e.bgiframe&&a){i(document).scrollTop(i(document).scrollTop()+1);i(document).scrollTop(i(document).scrollTop()+-1);if(!o.dialogBox.find("iframe").length){var l=i("<iframe frameborder=0>");l.css("height",n);o.dialogBox.append(l)}}if(e.showBg){if(a){o.dialogBg.css({display:"block",height:Math.max(i(document).height(),i(window).height())+"px"});o.dialogBg.find("iframe").css({height:Math.max(i(document).height(),i(window).height())+"px"})}o.dialogBg.show()}if(!o.dialogBox.hasClass("dialog-box")){o.dialogBox.addClass("dialog-box")}o.dialogBox.css({display:"block",width:e.width,"margin-left":-(e.width/2)+"px","margin-top":-(n/2)+(a?i(document).scrollTop():0)+"px"});o.dialogBox.fadeTo(e.fadeSpeed,1);a&&i("select").css("visibility","hidden")},hide:function(){var i=this;i._closeDialogbox()},_initEvent:function(){var i=this,o=i.options;i.dialogBox.find(o.close.btn).click(function(){i._closeDialogbox();o.close.callback();return false});var a=this.confirm?this.confirm:o.confirm?i.dialogBox.find(o.confirm.btn):null,e=this.cancel?this.cancel:o.cancel?i.dialogBox.find(o.cancel.btn):null;a&&a.bind("click",function(){o.confirm.callback();o.confirm.close&&i._closeDialogbox();if(!o.confirm.isLink){return false}});e&&e.bind("click",function(){o.cancel.callback();o.cancel.close&&i._closeDialogbox();return false})},_closeDialogbox:function(){var o=this,e=o.options;a&&i("select").css("visibility","visible");o.dialogBox.fadeOut(e.fadeSpeed,function(){if(e.destroy){o.element.remove()}});o.dialogBg.hide()},destroy:function(){}})})(jQuery);

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/