define(["../template",""],function(t){return t("uuser/letter_talk",function(t,i){"use strict";var e=this,s=e.$helpers,a=t.append,c=e.$escape,l=t.dst_uid,m=t.i,n=t.list,o=t.item,r=t.comment,d=t.source,v=t.author,f=t.cls,_=t.userid,u=s.timeFormat,g=s.checkImg,p=e.$string,h=s.userReplace,b="";if(!a){b+=' <div id="talkContent';b+=c(l);b+='" class="show-content-hook"> <div class="more"><a href="javascript:;">加载更多</a></div> <ul class="letter-talk-tmpl common-face-content"> '}b+=" ";for(m=0;m<n.length;m++){o=n[m];if(o.comment_info){r=o.comment_info;d=r.content;v=r.author}else{r=o.content;d=o.source;v=o.author}f=v.userid==_?"self":"";b+=' <li class="';b+=c(f);b+='" id="talkLi';b+=c(o.random_id||0);b+='"> ';if(o.ptime){b+=" ";if(o.ptime==0||o.ctime-o.ptime>60*5){b+=' <div class="time">';b+=c(u(o.ctime));b+="</div> "}b+=" "}else{b+=" ";if(m==0||o.ctime-n[m-1].ctime>60*5){b+=' <div class="time">';b+=c(u(o.ctime));b+="</div> "}b+=" "}b+=' <div class="user-img"> <a target="_blank" href="/user?nickname=';b+=c(v.username);b+='"><img src="';b+=c(g(v.userpic,"USER_PIC_60"));b+='" /></a> </div> <div class="item-wrap"> <em class="arrow"></em> <div class="item result-line">  ';if(o.source_type==0){b+=' <div class="song left"> ';if(r.comment&&r.comment!=""){b+=' <div class="comment">';b+=c(r.comment);b+='</div> <br/> <div class="comment-source"> '}b+=' <div class="song-img left"> <img src="';b+=c(g(d.pic||d.pic_small,"SONGLIST_PIC_150"));b+='"> <a href="javascript:;" class="play song-play-hook" data-songid="';b+=c(d.content_id||d.song_id);b+='"></a> </div> <div class="song-text left"> <div class="song-title"><a target="_blank" href="/song/';b+=c(d.content_id||d.song_id);b+='">';b+=c(d.title||d.title);b+='</a></div> <div class="song-artist"><a target="_blank" href="/artist/';b+=c(d.tinguid||d.ting_uid);b+='">';b+=p(d.artist_name||d.author);b+="</a></div> </div> ";if(r.comment&&r.comment!=""){b+=" </div> "}b+=" </div> "}else if(o.source_type==1){b+=' <div class="songlist left"> ';if(r.comment&&r.comment!=""){b+=' <div class="comment">';b+=c(r.comment);b+='</div> <br/> <div class="comment-source"> '}b+=' <div class="songlist-img left"> <img src="';b+=c(g(d.pic||d.list_pic_small,"SONGLIST_PIC_150"));b+='"> </div> <div class="songlist-text left"> <span class="songlist-tag">歌单</span> <span class="songlist-title"><a target="_blank" href="/songlist/';b+=c(d.content_id||d.list_id);b+='">';b+=c(d.title||d.list_title);b+="</a></span> </div> ";if(r.comment&&r.comment!=""){b+=" </div> "}b+=" </div> "}else if(o.source_type==2){b+=' <div class="album left"> ';if(r.comment&&r.comment!=""){b+=' <div class="comment">';b+=c(r.comment);b+='</div> <br/> <div class="comment-source"> '}b+=' <div class="album-img left"> <img src="';b+=c(g(d.pic||d.pic_small,"SONGLIST_PIC_150"));b+='"> </div> <div class="album-text left"> <span class="album-tag">专辑</span> <span class="album-title"><a target="_blank" href="/album/';b+=c(d.content_id||d.album_id);b+='">';b+=c(d.title);b+='</a> - <a target="_blank" href="/artist/';b+=c(d.tinguid||d.artist_ting_uid);b+='">';b+=c(d.artist_name||d.author);b+="</a></span> </div> ";if(r.comment&&r.comment!=""){b+=" </div> "}b+=" </div> "}else if(o.source_type==3){b+=' <div class="artist left"> ';if(r.comment&&r.comment!=""){b+=' <div class="comment">';b+=c(r.comment);b+='</div> <br/> <div class="comment-source"> '}b+=' <div class="artist-img left"><img src="';b+=c(g(d.pic||d.avatar_small,"USER_PIC_60"));b+='"></div> <div class="artist-text left"><span class="artist-title"><a target="_blank" href="/artist/';b+=c(d.tinguid||d.ting_uid);b+='">';b+=c(d.artist_name||d.name);b+="</a></span></div> ";if(r.comment&&r.comment!=""){b+=" </div> "}b+=" </div> "}else if(o.source_type==4){b+=" "}else if(o.source_type==5){b+=" "}else if(o.source_type==6){b+=' <div class="topic left"> <i></i><a href="javascript:;">';b+=p("暂不支持私信话题");b+="</a> </div> "}else if(o.source_type==7){b+=' <div class="text">';b+=p(h(r.comment||r));b+="</div> "}b+=' </div> </div> <div class="item-error" title="发送失败"></div> </li> '}b+=" ";if(!a){b+=" </ul> </div> "}return new String(b)})});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/