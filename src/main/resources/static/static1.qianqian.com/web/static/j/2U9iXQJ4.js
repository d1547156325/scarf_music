(function(){ting.tip={};ting.tip.play=function(){var i=$(this);require(["tip"],function(){i.tip().tip("tipup",{msg:"已开始播放",iconClass:"tip-success"})})};ting.tip.collect=function(){var i=$(this);require(["tip"],function(){i.tip().tip("tipup",{msg:"已保存到我的收藏",iconClass:"tip-success"})})};ting.tip.add=function(){var i=$(this);require(["tip"],function(){i.tip().tip("tipup",{msg:"添加成功",iconClass:"tip-success"})})};var i=function(i,e){if(!e){return}!i.moduleName&&(i.moduleName=e.parents(".js-mod").data("js-mod-name"))};var e={};e.add=function(i,e,a){$(a||document).on("click",i,e)};e.add(".js-play-song",function(e){var a=$(this);var t=a.parent().data("args");var l={page:ting.logger.getPage(),pos:"play_song",songcount:1};if(t.id){t.id.split?t.id=t.id.split(","):"";i(t,a);var n={moduleName:t.moduleName||"",id:t.id||"",mediaType:1,albumId:t.albumId||"",siPresaleFlag:t.siPresaleFlag||"",resourceTypeExt:t.pay_type||"",songPic:t.songPic||"",songTitle:t.songTitle||"",songPublishTime:t.songPublishTime||""};if(n.resourceTypeExt&&(n.resourceTypeExt==3||n.resourceTypeExt==4)){ting.checkSellResourse(n.id,n.albumId,function(i){n.isPay=i;ting.media.playSong(n.id,n);if(n.isPay!=1||n.siPresaleFlag==1||n._aiPresaleFlag==1){}else{ting.tip.play.call(a)}});l.song_title=n.songTitle;l.song_id=n.id;l.isPay=2}else{ting.media.playSong(n.id,n.moduleName);ting.tip.play.call(a)}ting.logger.plogClick("play_"+t.type);ting.logger.log("play_song",l)}});e.add("#js-random-focus li",function(){var i=$(this).data("title");ting.logger.log("click",{page:"home",pos:"jdt",sub:i})});e.add(".js-play-song-yyr",function(){var e=$(this);var a=e.parent().data("args");if(a.id){var t=a.id.split?a.id.split(","):a.id;for(var l=0,n=t.length;l<n;l++){t[l]=73819e3+(t[l]-0)}i(a,e);ting.media.playSong(t,a.moduleName);ting.tip.play.call(e);ting.logger.plogClick("play_song_yyr")}});e.add(".js-play-album",function(e){var a=$(this);var t=a.parent().data("args");if(t.id){i(t,a);ting.media.playAlbum(t.id,t.moduleName);ting.tip.play.call(a);ting.logger.plogClick("play_"+t.type||"album")}});e.add(".js-play-list",function(i){});e.add(".js-add",function(e){var a=$(this);var t=a.parent().data("args");var l={page:ting.logger.getPage(),pos:"add_song",songcount:1};if(t.id){i(t,a);var n={moduleName:t.moduleName||"",id:t.id||"",mediaType:1,albumId:t.albumId||"",siPresaleFlag:t.siPresaleFlag||"",resourceTypeExt:t.pay_type||"",songPic:t.songPic||"",songTitle:t.songTitle||"",songPublishTime:t.songPublishTime||""};if(n.resourceTypeExt&&(n.resourceTypeExt==3||n.resourceTypeExt==4)){ting.checkSellResourse(n.id,n.albumId,function(i){n.isPay=i;ting.media.addSong(n.id,n);if(n.isPay!=1||n.siPresaleFlag==1||n._aiPresaleFlag==1){}else{ting.tip.add.call(a)}});l.song_title=n.songTitle;l.song_id=n.id;l.isPay=2}else{ting.media.addSong(t.id,t.moduleName);ting.tip.add.call(a)}ting.logger.plogClick("add_"+t.type);ting.logger.log("add_song",l)}});e.add(".js-collect",function(i){var e=$(this),a=e.parent().data("args"),t={page:ting.logger.getPage(),pos:"collect_song",songcount:1};ting.connect.collect(null,{ids:a.id,type:a.type},function(i){ting.tip.collect.call(e);if(ting&&ting.logger){t.state=1;ting.logger.log("collect",t)}ting.media.collectSong(a.id)},function(i){var a="tip-error";switch(i.errorCode){case 22322:a="tip-warning";i.errTip="歌曲已被保存";break;case 22331:i.errTip="云空间已满，去<a href ='http://yinyueyun.baidu.com/' target = '_blank'>整理云空间</a>吧！";break;case 22232:i.errTip="对不起，千千音乐只能在中国内地提供服务";break;default:i.errTip="操作失败，请稍候再试";break}var l={msg:i.errTip?i.errTip:"操作失败",iconClass:a};if(i.errorCode=22331){l.showTime=5e3}t.state=i.errorCode;ting.logger.log("collect",t);require(["tip"],function(){e.tip().tip("tipup",l)})})})})();

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/