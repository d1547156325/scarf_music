define(["plugin/showTips"],function(){var e=window.ting||{};(function(e){var i={};var a=false;i.tipLogger=function(i,a,s,p){e.logger.log(i,{page:a,pos:s,expoitem:p})};i._spreadTipContent=function(e){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>'+e.title+"：</h4>"+'<p class="mesg-box">'+e.html+"</p>"+"</div></div>"};i._genTipContent=function(e,i){if(e=="before"){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>温馨提示：</h4>您的千千音乐VIP会员服务将于<em>'+i+"天后到期</em>。"+'<div class="action"><a class="close-link" href="http://static1.qianqian.com/home/payment/cloud?type=up&level=comm&pst=pay_tips" target="_blank">立即续费</a><span class="css-hot"></span></div>'+"</div></div>"}else if(e=="after"){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>温馨提示：</h4>您的千千音乐VIP会员服务已经到期。'+'<div class="action"><a class="close-link" href="http://static1.qianqian.com/home/payment/cloud?type=add&level=comm&pst=pay_tips" target="_blank">重新开通<span class="css-hot"></span></a>'+"</div></div>"}};i._expireTips=function(e,s){$(".vip-intro").showTips({target:i._genTipContent(e,s),left:-44,top:8,onClose:function(){$.cookie("vipEx","1",{expires:1})}});a=true;i.tipLogger("exposure","home","","toend");$(".css-close").click(function(){$(".vip-expire").remove()});var p=$(".close-link");p.click(function(){i.tipLogger("click","home","toend","")})};i._spreadTips=function(e){$(".vip-intro").showTips({target:i._spreadTipContent(e),left:-44,top:8,onClose:function(){$.cookie("vipSp","2",{expires:1})}});a=true;i.tipLogger("exposure","home","","tips");var s=$(".mesg-box");s.click(function(){i.tipLogger("click","home","tips","")})};i.spreadTips=function(){e.connect.vipSpread(null,null,function(e){if(e.data){i._spreadTips(e.data)}},function(e){})};i.expireTips=function(e){if(e>=-7&&e<=-1){i._expireTips("before",-e)}else if(e!=null&&e>=0&&e<7){i._expireTips("after")}};i.showspreadTips=function(){if(!$.cookie("vipSp")&&a==false){i.spreadTips()}};i.showexpireTips=function(e){if(!$.cookie("vipEx")&&a==false){i.expireTips(e)}};var s=/\/king/.test(location.pathname);var p={buy:"/home/payment/cloud?type=add&level=comm&pst=pay_plaza"+(s?"&_vk=pay_k_load":""),renew:"/home/payment/cloud?type=up&level=comm&pst=pay_plaza"+(s?"&_vk=pay_k_load":""),upgrade:"/home/payment/cloud?type=upgrade&level=gold&pst=pay_plaza"+(s?"&_vk=pay_k_load":""),intro:"/vip?pst=pay_plaza"+(s?"&_vk=pay_k_load":""),vipCenter:"/vip/user?pst=pay_plaza"+(s?"&_vk=pay_k_load":""),invite:"/vip/invite?pst=pay_plaza"+(s?"&_vk=pay_k_load":"")};var n;var o=function(e){n=e};i.getStatus=function(){return n};i.genInitFn=function(i,a){o(i);switch(i){case"comm":return function(){e.vip.showexpireTips(a);e.vip.showspreadTips();$(".vip-intro").append('<div id="vip-hover-show" class="mn-tip">'+'<ul class="mn">'+'<li><a target="_blank" href="'+p.upgrade+'">升级白金VIP</a></li>'+'<li><a target="_blank" href="'+p.vipCenter+'">个人中心</a></li>'+"</ul></div>").hoverShow($("#vip-hover-show"),{delay:100})};break;case"gold":return function(){e.vip.showexpireTips(a);e.vip.showspreadTips();$(".vip-intro").append('<div id="vip-hover-show" class="mn-tip">'+'<ul class="mn">'+'<li><a target="_blank" href="'+p.renew+'">立即续期</a></li>'+'<li><a target="_blank" href="'+p.vipCenter+'">个人中心</a></li>'+"</ul></div>").hoverShow($("#vip-hover-show"),{delay:100})};break;case"not":return function(){e.vip.showspreadTips();$(".vip-intro").append('<div id="vip-hover-show" class="mn-tip">'+'<ul class="mn">'+'<li><a target="_blank" href="'+p.renew+'" class="css-em">立即开通<span class="css-hot"></span></a></li>'+'<li><a target="_blank" href="'+p.upgrade+'">升级白金VIP</a></li>'+'<li><a target="_blank" href="'+p.vipCenter+'">个人中心</a></li>'+"</ul></div>").hoverShow($("#vip-hover-show"),{delay:100})};break;case"anonymous":return function(){e.vip.showspreadTips();$(".vip-intro").append('<div id="vip-hover-show" class="mn-tip">'+'<ul class="mn">'+'<li><a target="_blank" class="css-em" href="'+p.buy+'">立即开通<span class="css-hot"></span></a></li>'+'<li><a target="_blank" href="'+p.upgrade+'">升级白金VIP</a></li>'+'<li><a target="_blank" href="'+p.intro+'" target="_blank">所有特权</a></li>'+"</ul>"+"</div>").hoverShow($("#vip-hover-show"),{delay:100})};break}};e.vip=i})(e)});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/