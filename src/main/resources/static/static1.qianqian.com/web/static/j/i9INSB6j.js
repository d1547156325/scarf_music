var ting=ting||{};void function(){var e=window.location;var t={getSource:function(){var r="";var i="-1||-1";var n=window.location.search.split("&");var o=i.split("||")[0],a=i.split("||")[1],c=["fr","fm","from"];var u=/\w{0,}(\.\w{0,})+\.?/i;var f=document.referrer;if(!!f){var s=f.match(u)[0];a=s;if(f.indexOf("http://www.baidu.com/s")!=-1){o="bdsearch"}}if(!!n[0]){for(var g=0;g<n.length;g++){if(n[g].indexOf(c[0])!=-1||n[g].indexOf(c[1])!=-1||n[g].indexOf(c[2])!=-1){var d=n[g].split("=")[1];o=d.split("||")[0];a=d.split("||")[1]||s||a}}}if(!!f){if(f.indexOf(e.origin)!=-1){r=t.getCookie()||i}else{r=o+"||"+a}}else{r=o+"||"+a}return r},setCookie:function(){var e=t.getSource();jQuery.cookie("tracesrc",e,{path:"/",expires:1})},getFrom:function(){return t.getSource().split("||")[0]},getCookie:function(){return jQuery.cookie("tracesrc")},postLog:function(){var r=Math.round(Math.random()*1e5)+(new Date).getTime();var i=new Date,n=i.getFullYear(),o=i.getMonth()+1,a=i.getDate(),c=i.getHours(),u=i.getMinutes(),f=i.getSeconds(),s=c+":"+u+":"+f,g=[n,o,a,s];var d="http://qianclick.qianqian.com/v.gif?pid=304&url=&v=1.0.0&r="+r+"&type=tracesrc";var v="";var l={ref:e.host.indexOf("http://static1.qianqian.com/web/static/j/music.qianqian.com")!=-1?"music_web":"tingbox",tracesrc:t.getSource(),inittime:g.join("-")};var m=d+v,w="ting_"+Math.round(Math.random()*1e5)+(new Date).getTime(),p=window[w]=new Image(1,1);for(var h in l){v+="&"+encodeURIComponent(h)+"="+encodeURIComponent(l[h])}p.onload=p.onerror=function(){window[w]=null};p.src=m;p=null}};ting.traceSource=t}();

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/