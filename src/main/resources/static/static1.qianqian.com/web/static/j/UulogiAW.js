var CONFIG,Debugger,jQueryLoadModule,tools;CONFIG={DEBUG:false&&location.search.indexOf("AD")!==-1};if(CONFIG.DEBUG===true){CONFIG.bufferHeight=-30}tools={getAttribute:function(e){var t,n;n={};e=e.replace(/,\s*/g,",");t=/([\w]*)[\s]*=[\s]*([\w\/._,]*)/g;e.replace(t,function(e,t,r){return n[t]=r});return n},regJS:/<script([^>]*)>([\w\W]*?)<\/script>/g,filterJS:function(e){var t,n;t="";n=e.replace(this.regJS,function(e,n,r,a,o){t+=r;return""});return{remain:n,matched:t}},exec:function(e,t){return new Function(e).call(t)},_prepareHTML:function(e){var t,n;t=this.filterJS(e);return n={js:t.matched,dom:t.remain}},loadHtml:function(e,t){var n;n=this._prepareHTML(e);if(n.dom){if(n.dom.replace(/(^\s*)|(\s*$)/g,"").length>0){t.html(n.dom)}}if(n.js){return this.exec(n.js,t)}},debug:function(e){if(!CONFIG.DEBUG){return}Debugger.showInfo(e);e.css("padding","1px");return e.css("background","red")},loadAjaxData:function(){var e,t;e=this;t=e.data("url");if(!t){return}$.ajax({url:t,dataType:"json"}).done(function(t){e.html(t.data.html);e.removeClass("css-loading");return new Function(t.data.js).call(e)}).fail(function(){var n;e.html("<div class='async-module-error'><a href='#'>长时间没有响应，点击重新加载</a></div>");n=e.find(".async-module-error");n.css({position:"relative",top:e.height()/2+20,left:e.width()/2-90});return n.on("click",function(n){n.preventDefault();tools.loadAjaxData.call(e,t);return e.html("")})})}};Debugger={id:0,showInfo:function(e){var t,n,r,a,o;o=e.data("type");n=e.html();r=e.html().replace(/(^\s*)|(\s*$)/g,"").replace(/(<\!--)|(-->)/g,"");a=new Date;t=$("<div class='amd'>\n    <div class='title'>\n        ID: "+this.id+", TYPE: <span class='em'>"+o+"</span><span class='time'>"+(a.toTimeString().slice(0,9)+a.getMilliseconds())+"</span>\n    </div>\n    <div>\n        <span><button onclick='showSourceCode(this)'>原始HTML</button><textarea>"+n+"</textarea></span>\n        <span><button onclick='showSourceCode(this)'>解析出的代码</button><textarea>"+r+"</textarea></span>\n    </div>\n</div>");t.insertBefore(e);return this.id++},init:function(){if(!CONFIG.DEBUG){return}$("<style type='text/css'>\n  .amd {background: #CCE8CF}\n.amd .title{background: lightgreen}\n.amd .em {color: darkred; font-weight: bold}\n.amd textarea{display: none}\n.amd .time {float: right;}\n\n#amd-code {\n    position: fixed;\n    left: 0;\n    top: 0;\n    background: #CCE8CF;\n    width: 450px;\n    height: 100%;\n}\n  </style>").appendTo("head");return window.showSourceCode=function(e){if(!e.show){$("#amd-code").remove();e.show=true;return $("<textarea id='amd-code'>"+$(e).next().html()+"</textarea>").appendTo("body")}else{e.show=false;return $("#amd-code").remove()}}}()};jQueryLoadModule=function(){var e,t,n,r;try{r=this.data("type");switch(r){case"ajax":tools.debug(this);return tools.loadAjaxData.call($(this));default:t=this.html().replace(/(^\s*)|(\s*$)/g,"");if(t.indexOf("<!--")===-1){return}tools.debug(this);n=t.replace(/(<\!--)|(-->)/g,"");return tools.loadHtml(n,this)}}catch(a){e=a;if(CONFIG.debug){throw e}}};$.fn.loadModule=jQueryLoadModule;(function(){var e,t,n,r;r=$(".async-module");e=$(window);t=function(t){var a,o,i,l,s,d,u,c;if(t==null){t=0}o=0;l=e.scrollTop();d=e.height();for(a=u=0,c=r.length;u<c;a=u+=1){i=r.eq(a);if(i[0]!==void 0){s=i.offset().top;if(s<l+d+t&&l-i.height()<s){i.loadModule();delete r[a]}else{o++}}}if(o===0){e.off("scroll",n)}};n=function(){clearTimeout(arguments.callee.tid);return arguments.callee.tid=setTimeout(function(){return t(CONFIG.bufferHeight||e.height()/2)},50)};if(r.length>0){e.on("scroll",n);return t()}})();

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/