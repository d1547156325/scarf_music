define(["plugin/showTips"],function(){var e=window.ting||{};(function(e){var i={};var t=false;i.tipLogger=function(i,t,n,s){e.logger.log(i,{page:t,pos:n,expoitem:s})};i._spreadTipContent=function(e){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>'+e.title+"：</h4>"+'<p class="mesg-box">'+e.html+"</p>"+"</div></div>"};i._genTipContent=function(e,i){if(e=="before"){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>温馨提示：</h4>您的千千音乐VIP会员服务将于<em>'+i+"天后到期</em>。"+'<div class="action"><a class="close-link" href="/vip" target="_blank">立即续费</a><span class="css-hot"></span></div>'+"</div></div>"}else if(e=="after"){return'<div class="vip-expire tips">'+'<span class="arrow-up"></span>'+'<a href="#" class="close css-close">X</a>'+'<div class="content"><h4>温馨提示：</h4>您的千千音乐VIP会员服务已经到期。'+'<div class="action"><a class="close-link" href="/vip" target="_blank">重新开通<span class="css-hot"></span></a>'+"</div></div>"}};if($(".urank-tab").length){i._expireTips=function(e,n){$(".uname").showTips({target:i._genTipContent(e,n),left:520,top:-24,onClose:function(){$.cookie("vipEx","1",{expires:1})}});t=true;i.tipLogger("exposure","home","","toend");var s=setTimeout(function(){clearTimeout(s);$(".css-close").click(function(){$(".vip-expire").remove()})},1e3);var p=$(".close-link");p.click(function(){i.tipLogger("click","home","toend","")})}}else{i._expireTips=function(e,n){$(".vip-intro").showTips({target:i._genTipContent(e,n),left:-44,top:8,onClose:function(){$.cookie("vipEx","1",{expires:1})}});t=true;i.tipLogger("exposure","home","","toend");var s=setTimeout(function(){clearTimeout(s);$(".css-close").click(function(){$(".vip-expire").remove()})},1e3);var p=$(".close-link");p.click(function(){i.tipLogger("click","home","toend","")})}}i._spreadTips=function(e){$(".vip-intro").showTips({target:i._spreadTipContent(e),left:-44,top:8,onClose:function(){$.cookie("vipSp","2",{expires:1})}});t=true;i.tipLogger("exposure","home","","tips");var n=$(".mesg-box");n.click(function(){i.tipLogger("click","home","tips","")})};i.spreadTips=function(){e.connect.vipSpread(null,null,function(e){if(e.data){i._spreadTips(e.data)}},function(e){})};i.expireTips=function(e){if(e>=-7&&e<=-1){i._expireTips("before",-e)}else if(e!=null&&e>=0&&e<7){i._expireTips("after")}};i.showspreadTips=function(){if(!$.cookie("vipSp")&&t==false){i.spreadTips()}};i.showexpireTips=function(e){if(!$.cookie("vipEx")&&t==false){i.expireTips(e)}};var n=/\/king/.test(location.pathname);var s={buy:"/home/payment/cloud?type=add&level=comm&pst=pay_plaza"+(n?"&_vk=pay_k_load":""),renew:"/home/payment/cloud?type=up&level=comm&pst=pay_plaza"+(n?"&_vk=pay_k_load":""),upgrade:"/home/payment/cloud?type=upgrade&level=gold&pst=pay_plaza"+(n?"&_vk=pay_k_load":""),intro:"/vip?pst=pay_plaza"+(n?"&_vk=pay_k_load":""),vipCenter:"/vip/user?pst=pay_plaza"+(n?"&_vk=pay_k_load":""),invite:"/vip/invite?pst=pay_plaza"+(n?"&_vk=pay_k_load":"")};var p;var o=function(e){p=e};i.getStatus=function(){return p};i.genInitFn=function(i,t){o(i);switch(i){case"comm":return function(){e.vip.showexpireTips(t);e.vip.showspreadTips();$(".vip-intro").find("#userCenter").attr({href:s.upgrade}).html("升级VIP")};break;case"gold":return function(){e.vip.showexpireTips(t);e.vip.showspreadTips();$(".vip-intro").find("#userCenter").attr({href:s.renew}).html("续费VIP")};break;case"not":return function(){e.vip.showspreadTips();$(".vip-intro").find("#userCenter").attr({href:s.renew}).html("开通VIP")};break;case"anonymous":return function(){e.vip.showspreadTips();$(".vip-intro").find("#userCenter").attr({href:s.renew}).html("开通VIP")};break}};i.addEvents=function(){$("#userCenter").attr("href","/vip").attr("target","_blank")};i.addEvents();e.vip=i})(e)});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/