window.loggers={},function(){var o=null,n=null;loggers.init=function(){this.cookies={bduid:getCookie("BAIDUID"),userid:getCookie("userid"),ulogin:getCookie("u_login")}},loggers.getOptions=function(e,o){this.cookies||this.init();return this.options={sid:"",random:getRandom(),referurl:getReferurl(o)||"",baiduid:this.cookies.bduid.substr(0,this.cookies.bduid.length-5)||"",logUrlParams:"&type="+encodeURIComponent(e),logUrlPrefix:"//qianclick.qianqian.com/v.gif?r="+getRandom(),cookiesid:getCookie("log_sid")},this.options},loggers.log=function(e,o){var n,r=this,t=r.getOptions(e,o);t.sid=t.cookiesid&&"undefined"!==t.cookiesid?t.cookiesid:t.random+t.baiduid,setCookie("log_sid",t.sid,30),delete o.referurl;var i=_extend(o,{referurl:t.referurl,url:document.location.href,channelid:"",sid:t.sid,userid:r.cookies.userid,islogin:r.cookies.ulogin,UA:navigator.userAgent,baiduid:r.cookies.bduid});for(var a in i)t.logUrlParams+="&"+encodeURIComponent(a)+"="+encodeURIComponent(i[a]);n={rd:t.random,logUrl:t.logUrlPrefix,logParams:t.logUrlParams},createImage(n)},loggers.logClick=function(e){var n="",r=this;loggers._params=e||{};var o=document.body;o.attachEvent?o.attachEvent("onclick",function(e){var o=e.srcElement;o.attributes["c-tj"]&&(n=o.attributes["c-tj"].nodeValue,r.sendLog(JSON.parse(n)))}):o.addEventListener("click",function(e){var o=e.target;o.attributes["c-tj"]&&(n=o.attributes["c-tj"].nodeValue,r.sendLog(JSON.parse(n)))})},loggers.sendLog=function(e){e=e||{};var o,n=this,r=n.getOptions("click");loggers._params=_extend(e,loggers._params);var t=_extend(loggers._params,{pid:"304",type:"click",url:document.location.href,referurl:getReferurl(),viptype:0,page:"web",pos:"",sub:"",baiduid:n.cookies.bduid,userid:n.cookies.ulogin,islogin:n.cookies.ulogin,UA:navigator.userAgent});for(var i in t)r.logUrlParams+="&"+encodeURIComponent(i)+"="+encodeURIComponent(t[i]);o={rd:r.random,logUrl:r.logUrlPrefix,logParams:r.logUrlParams},createImage(o)},createImage=function(e){var o="taihe_"+e.rd,n=new Image;(window[o]=n).onload=n.onerror=n.onabort=function(){n&&(n.onload=n.onerror=n.onabort=null,n=window[o]=o=null)},n.src=e.logUrl+e.logParams},getRandom=function(){return Math.round(1e3*Math.random())+(new Date).getTime()},getReferurl=function(e){return e&&e.url&&(n=o||n,o=e.url),n||document.referrer},setCookie=function(e,o,n){var r=new Date;r.setMinutes(r.getMinutes()+n),document.cookie=e+"="+escape(o)+(null==n?"":";expires="+r.toGMTString())+";domain="+location.hostname},getCookie=function(e){return 0<document.cookie.length&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""},_extend=function(e,o){for(var n in o)o.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=o[n]);return e}}();