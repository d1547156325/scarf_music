$.widget("ting.pageNavigator",{options:{total:0,size:0,start:0,show_total:0,focus_neighbor:0,hash:0},_init:function(){this.options.size=this.options.size||10;this.options.show_total=this.options.show_total||10;this.options.focus_neighbor=this.options.focus_neighbor||4;this.options.hash=this.options.hash||0;this.widgetEventPrefix="pagenavigator.";this._event(this);this.options.page=this._start2page(this.options.start,this.options.size)},_start2page:function(t,s){return parseInt(t/s)+1},_event:function(t){var s=t.element;$(".page-navigator-prev",s).click(t._click(t));$(".page-navigator-next",s).click(t._click(t));$(".page-navigator-number",s).click(t._click(t))},_click:function(t){return function(s){s.preventDefault();var i;if($(this).hasClass("page-navigator-prev")){i=t.options.page-1}else if($(this).hasClass("page-navigator-next")){i=t.options.page- -1}else{i=$(this).text()}t.setPage(i);t._trigger("pageChange",s,{size:t.options.size,page:i,start:(i-1)*t.options.size});if(t.options.hash){window.location.hash="";window.location.hash=t.options.hash}return false}},getTotal:function(){return this.options.total},setTotal:function(t){this.options.total=t;this._draw()},getPage:function(){return this.options.page},setPage:function(t){this.options.page=t;this._draw()},page_number_width:function(t){if((t+"").length<3){return"PNNW-S"}else{return"PNNW-D"}},setStart:function(t){this.setPage(this._start2page(t,this.options.size))},setParam:function(t){this.options.total=t.total||this.options.total;this.options.start=t.start||this.options.start;this.options.size=t.size||this.options.size;this.options.page=t.page||this.options.page;this._draw()},getParam:function(){return{total:this.options.total,start:this.options.start,size:this.options.size,page:this.options.page}},_draw:function(){var t=this._page_info(this.options),s=t.total_page,i=t.page,a=t.first,e=t.last,o=t.begin,n=t.end,p=this.element,h=[],r='<span class="page-navigator-dots">...</span>',g;p.text("");if(s<2){return false}if(this.options.total>this.options.size){p.addClass("page-navigator")}if(i==1){h.push('<span class="page-navigator-prev-disable"><</span>')}else{this.currentPage=i-1;h.push('<a class="page-navigator-prev" href="'+this.options.hash+'"><</a>')}if(a){this.currentPage=1;h.push('<a href="'+this.options.hash+'" class="page-navigator-number PNNW-S">1</a>');h.push(r)}for(var l=o;l<=n;l++){g=this.page_number_width(l);if(l==i){h.push('<span class="page-navigator-current '+g+'">'+l+"</span>")}else{this.currentPage=l;h.push('<a href="'+this.options.hash+'" class="page-navigator-number '+g+'">'+l+"</a>")}}if(e){this.currentPage=s;g=this.page_number_width(s);h.push(r);h.push('<a href="'+this.options.hash+'" class="page-navigator-number '+g+'">'+s+"</a>")}if(i==s){h.push('<span class="page-navigator-next-disable">></span>')}else{this.currentPage=i+1;h.push('<a class="page-navigator-next" href="'+this.options.hash+'">></a>')}p.append("<div class='page-cont'></div>");$(".page-cont",p).append("<div class='page-inner'></div>");$(".page-inner",p).html(h.join(""));this._event(this)},_focusNeighbor:function(t,s){var i=t+s,a=i.toString().length,e=a-3,o=s-(e>0?e:0);o=o<1?1:o;return o},_page_info:function(t){var s=t.total,i=t.size||10,a=t.page,e=t.show_total||10,o=t.focus_neighbor||4,n=parseInt(s/i),p,h,r,g;if(s%i!=0){n=n+1}if(a<1){a=1}if(a>n){a=n}a=parseInt(a);o=this._focusNeighbor(a,o);if(n<=e){r=1;g=n}else{r=a-o;g=a+o;p=true;h=true;if(r<3){r=1;g=e-1;p=false}else if(g>n-2){r=n-o*2;g=n;h=false}}return{total_page:n,page:a,first:p,last:h,begin:r,end:g}}});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/