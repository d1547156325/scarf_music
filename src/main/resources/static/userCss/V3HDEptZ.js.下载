define(["tmpl/common/pop_window/pop","tmpl/common/pop_window/pop_window"],function(o,n){var t=function(o){var n={baseEl:$(".music-body").eq(0),title:"标题",spPop:false,text:{btnText:""},contentEl:null,position:"fixed",offsetX:0,offsetY:0,callback:function(){},createCallback:function(){},closeCallback:function(){return true}};var t={};t.options=$.extend(n,o);t.$base=t.options.baseEl;if(t.options.spPop){c(t)}else{s(t)}a(t);l(t);return t},i=function(o){a(o);$(".common-pop-mask").hide();o.$base.find(".common-pop-mask").show()},p=function(o){o.$pop.remove()},e=function(o){o.$pop.hide();$(".common-pop-mask").hide()};var c=function(n){n.$pop=$(o({text:n.options.title||"",btnText:n.options.text.btnText||""}));n.$base.append(n.$pop)},s=function(o){o.$pop=$(n({title:o.options.title}));f(o);o.$base.append(o.$pop);o.options.createCallback()},a=function(o){var n=o.options.offsetX||0,t=o.options.offsetY||0;o.$pop.show();var i=o.$pop.eq(0);var p=(o.options.innerWidth||o.$pop.innerWidth())/2+n;var e=(o.options.innerHeight||o.$pop.innerHeight())/2+t;i.css({"margin-left":"-"+p+"px","margin-top":"-"+e+"px",position:o.options.position})},l=function(o){o.$pop.off().on("click",".close-window-hook",function(){if($("#qrcode-downsong")){$("#qrcode-downsong").remove()}if($(".jinlibang")){$(".common-pop-mask").hide();$(".common-pop-mask:last").show()}var n=o.options.closeCallback.call(o);if(n){e(o)}}).on("click",".commit-window-hook",function(){o.options.callback()}).on("click",function(n){if(n.target.className.indexOf("common-pop-mask")>-1){if($("#qrcode-downsong")){$("#qrcode-downsong").remove()}var t=o.options.closeCallback.call(o);if(t){e(o)}}})},f=function(o){if(o.options.contentEl&&o.options.contentEl.length>0){o.$pop.find(".common-pop-wrap").empty().append(o.options.contentEl)}};return{create:function(o){var n=t(o);return n},show:function(o){i(o)},destory:function(o){p(o)},hide:function(o){e(o)},setContent:function(o,n){if(n&&n.length>0){o.options.contentEl=n;f(o)}},setTitle:function(o,n){n=n||"";o.$pop.find(".common-pop-title span").html(n)}}});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/