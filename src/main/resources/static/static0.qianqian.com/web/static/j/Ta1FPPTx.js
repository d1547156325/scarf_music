(function(t){t.tiny=t.tiny||{};t.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:true,lockscroll:true,size:"auto",sizethumb:"auto",invertscroll:false}};t.fn.tinyscrollbar=function(e){var s=t.extend({},t.tiny.scrollbar.options,e);this.each(function(){t(this).data("tsb",new o(t(this),s))});return this};t.fn.tinyscrollbar_update=function(o){return t(this).data("tsb").update(o)};function o(o,e){var s=this,a=o,i={obj:t(".viewport",o)},n={obj:t(".overview",o)},u={obj:t(".scrollbar",o)},r={obj:t(".track",u.obj)},c={obj:t(".thumb",u.obj)},l=e.axis==="x",b=l?"left":"top",d=l?"Width":"Height",f=0,m={start:0,now:0},h={},x="ontouchstart"in document.documentElement;function j(){s.update();v();return s}this.update=function(t){i[e.axis]=i.obj[0]["offset"+d];n[e.axis]=n.obj[0]["offset"+d];n.ratio=i[e.axis]/n[e.axis];u.obj.toggleClass("disable",n.ratio>=1);r[e.axis]=e.size==="auto"?i[e.axis]:e.size;c[e.axis]=Math.min(r[e.axis],Math.max(0,e.sizethumb==="auto"?r[e.axis]*n.ratio:e.sizethumb));u.ratio=e.sizethumb==="auto"?n[e.axis]/r[e.axis]:(n[e.axis]-i[e.axis])/(r[e.axis]-c[e.axis]);f=t==="relative"&&n.ratio<=1?Math.min(n[e.axis]-i[e.axis],Math.max(0,f)):0;f=t==="bottom"&&n.ratio<=1?n[e.axis]-i[e.axis]:isNaN(parseInt(t,10))?f:parseInt(t,10);p()};function p(){var t=d.toLowerCase();c.obj.css(b,f/u.ratio);n.obj.css(b,-f);h.start=c.obj.offset()[b];u.obj.css(t,r[e.axis]);r.obj.css(t,r[e.axis]);c.obj.css(t,c[e.axis])}function v(){if(!x){c.obj.bind("mousedown",w);r.obj.bind("mouseup",g)}else{i.obj[0].ontouchstart=function(t){if(1===t.touches.length){w(t.touches[0]);t.stopPropagation()}}}if(e.scroll&&window.addEventListener){a[0].addEventListener("DOMMouseScroll",M,false);a[0].addEventListener("mousewheel",M,false);a[0].addEventListener("MozMousePixelScroll",function(t){t.preventDefault()},false)}else if(e.scroll){a[0].onmousewheel=M}}function w(o){t("body").addClass("noSelect");var e=parseInt(c.obj.css(b),10);h.start=l?o.pageX:o.pageY;m.start=e=="auto"?0:e;if(!x){t(document).bind("mousemove",g);t(document).bind("mouseup",y);c.obj.bind("mouseup",y)}else{document.ontouchmove=function(t){t.preventDefault();g(t.touches[0])};document.ontouchend=y}}function M(o){if(n.ratio<1){var s=o||window.event,a=s.wheelDelta?s.wheelDelta/120:-s.detail/3;f-=a*e.wheel;f=Math.min(n[e.axis]-i[e.axis],Math.max(0,f));c.obj.css(b,f/u.ratio);n.obj.css(b,-f);if(e.lockscroll||f!==n[e.axis]-i[e.axis]&&f!==0){s=t.event.fix(s);s.preventDefault()}}}function g(t){if(n.ratio<1){if(e.invertscroll&&x){m.now=Math.min(r[e.axis]-c[e.axis],Math.max(0,m.start+(h.start-(l?t.pageX:t.pageY))))}else{m.now=Math.min(r[e.axis]-c[e.axis],Math.max(0,m.start+((l?t.pageX:t.pageY)-h.start)))}f=m.now*u.ratio;n.obj.css(b,-f);c.obj.css(b,m.now)}}function y(){t("body").removeClass("noSelect");t(document).unbind("mousemove",g);t(document).unbind("mouseup",y);c.obj.unbind("mouseup",y);document.ontouchmove=document.ontouchend=null}return j()}})(jQuery);

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/