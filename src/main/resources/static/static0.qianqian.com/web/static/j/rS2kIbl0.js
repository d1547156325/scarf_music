(function(t){t.fn.citySelect=function(i){if(this.length<1){return}i=t.extend({url:"../../../static/js/plugin/city.min.js"/*tpa=http://static0.qianqian.com/static/js/plugin/city.min.js*/,prov:null,city:null,dist:null,nodata:null,required:true},i);var e=this;var n=e.find(".prov");var l=e.find(".city");var s=e.find(".dist");var a=i.prov;var d=i.city;var o=i.dist;var r=i.required?"":"<option value=''>请选择</option>";var c;var u=function(){var e=n.get(0).selectedIndex;if(!i.required){e--}l.empty().attr("disabled",true);s.empty().attr("disabled",true);if(e<0||typeof c.citylist[e].c=="undefined"){if(i.nodata=="none"){l.css("display","none");s.css("display","none")}else if(i.nodata=="hidden"){l.css("visibility","hidden");s.css("visibility","hidden")}return}temp_html=r;t.each(c.citylist[e].c,function(t,i){temp_html+="<option value='"+i.n+"'>"+i.n+"</option>"});l.html(temp_html).attr("disabled",false).css({display:"",visibility:""});f()};var f=function(){var e=n.get(0).selectedIndex;var a=l.get(0).selectedIndex;if(!i.required){e--;a--}s.empty().attr("disabled",true);if(e<0||a<0||typeof c.citylist[e].c[a].a=="undefined"){if(i.nodata=="none"){s.css("display","none")}else if(i.nodata=="hidden"){s.css("visibility","hidden")}return}temp_html=r;t.each(c.citylist[e].c[a].a,function(t,i){temp_html+="<option value='"+i.s+"'>"+i.s+"</option>"});s.html(temp_html).attr("disabled",false).css({display:"",visibility:""})};var p=function(){temp_html=r;t.each(c.citylist,function(t,i){temp_html+="<option value='"+i.p+"'>"+i.p+"</option>"});n.html(temp_html);setTimeout(function(){if(i.prov!=null){n.val(i.prov);u();setTimeout(function(){if(i.city!=null){l.val(i.city);f();setTimeout(function(){if(i.dist!=null){s.val(i.dist)}},1)}},1)}},1);n.bind("change",function(){u()});l.bind("change",function(){f()})};if(typeof i.url=="string"){require(["http://static0.qianqian.com/web/static/j/plugin/city.min"],function(t){c=t;p()})}else{c=i.url;p()}}})(jQuery);

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/