define(["../template","./dynamicRepeatTmpl","./dynamicZanUserTmpl"],function(a){return a("dynamic/dynamicTmpl",function(a,i){"use strict";var s=this,c=s.$helpers,e=s.$escape,t=a.item,n=a.plucls,l=c.checkImg,d=s.$string,m=c.timeFormat,r=c.userReplace,o=a.music,p=a.status,f=a.offLineTitle,u=function(c,e){e=e||a;var t=s.$include(c,e,i);C+=t;return C},g=a.childid,h=a.topicid,v=a.topictitle,_=a.parentuser,y=a.parentMsgId,x=a.share,b=a.msgId,I=a.user,k=a.msgUsers,z=a.topicId,S=a.topicTitle,T=a.parentUser,j=c.jsonStringify,C="";C+='<div class="dynamic dynamic-';C+=e(t.msgid);C+=" dynamic-data-hook ";C+=e(n);C+=" \" data-dynamicid='";C+=e(t.msgid);C+="' ";if(t.msg_parent){C+="data-parentid='";C+=e(t.msg_parent.msgid);C+="'"}C+=" data-userid=";C+=e(t.author.userid);C+='> <div class="dynamic-header clearfix dyfriend-btn friend-btn-hook"> ';if(t.hideCount){C+=" "}else{C+=' <a href="http://static0.qianqian.com/user?nickname=%27;C+=e(t.author.username);C+="\" class='pr user-pic-boxs'> <img src=\"";C+=e(l(t.author.userpic,"USER_PIC_60"));C+='" class=\'user-pic\' alt="" /> ';if(t.author&&t.author.flag[0]>0){C+=' <i class="vip-info vip';C+=e(t.author.flag[0]);C+='" ';if(t.author.flag[0]==1){C+="title='千千音乐普通VIP'"}else{C+="title='千千音乐白金VIP'"}C+=" ></i> "}else if(t.author&&t.author.flag[2]==1){C+=" <i class=\"vip-info renzheng\" title='千千音乐认证'></i> "}else if(t.author&&t.author.flag[1]==1){C+=" <i class=\"vip-info daren\" title='千千音乐认证'></i> "}C+=" </a> "}C+=' <div class="user-desc fl f16"> <h3><a href="/user?nickname=';C+=e(t.author.username);C+='" class="name">';C+=e(t.author.username);C+="</a></h3> ";if(t.hideCount){C+=" "}else{C+=' <h5><span class="c9 f12">';C+=d(m(t.ctime));C+="</span></h5> "}C+=" </div>  ";if(t.isFriend==0||t.isFriend==3){C+=' <a href="javascript:void(0)" class="follow follow-hook fr" data-fid="';C+=e(t.author.userid);C+='" title="关注"><i></i>关注</a> '}C+=" ";if(!t.dynamicDetail){C+=" ";if(t.specFlag==1){C+=' <span class="dynamic-tag dynamic-tag-recomment fr">推荐</span> '}C+=" ";if(t.specFlag==2){C+=' <span href="" class="dynamic-tag dynamic-tag-active fr">活动</span> '}C+=" ";if(t.specFlag==3){C+=' <span href="" class="dynamic-tag dynamic-tag-ad fr">推广</span> '}C+=" "}C+=' </div> <div class="dynamic-text dynamic-text-';C+=e(t.msgid);C+=' f14 clearfix"> <p class="dynamic-texts dynamic-texts-';C+=e(t.msgid);C+=' fl">';C+=d(r(t.msg,t.msg_users,1));C+='</p> </div> <p class="dynamic-text-btn-box clearfix"> <a href="javascript:void(0)" class="dynamic-text-btn dynamic-text-btn-';C+=e(t.msgid);C+=' dynamic-text-show none">全文</a> </p> ';if(t.topic&&t.topic.topic_title&&t.msgtype!=4){C+=' <div class="dynamic-topic-name clearfix"> <a href="/discuss/detail/';C+=e(t.topic.topic_id);C+='" class="dynamic-topic-name-btn name to pr" target="_blank"><i class="pa dynamic-topic-name-bg"></i><i class="pr dynamic-topic-name-text">#';C+=e(t.topic.topic_title);C+="</i></a> </div> "}C+="  ";o=t.content;C+=" ";if(o){p=o.status;f="";if(p==1){f="应版权方要求，该资源暂时下线~"}C+=" ";if(o.content_type==0){C+=' <div class="dynamic-music dynamic-music-song"> <div class="dynamic-music-song clearfix pr"> ';if(p==1){C+=' <a href="javascript:void(0)" title=\'';C+=e(f);C+="'><img src=\"";C+=e(l(o.pic,"SONGLIST_PIC_150"));C+='" alt="" class="fl music-pic"></a> <div class="song-info fl"> <a href="javascript:void(0)" class="song-name offline f14 " title=\'';C+=e(f);C+="'>";C+=e(o.title);C+='</a> <a href="/artist/';C+=e(o.tinguid);C+='" class="song-author f12 c9">';C+=e(o.artist_name);C+="</a> </div> "}else{C+=' <a href="/song/';C+=e(o.content_id);C+='"><img src="';C+=e(l(o.pic,"SONGLIST_PIC_150"));C+='" alt="" class="fl music-pic"></a> <i class="icon-play icon-play-song pa" data-id=\'';C+=e(o.content_id);C+='\'></i> <div class="song-info fl"> <a href="/song/';C+=e(o.content_id);C+='" class="song-name f14 ">';C+=e(o.title);C+='</a> <a href="/artist/';C+=e(o.tinguid);C+='" class="song-author f12 c9">';C+=e(o.artist_name);C+="</a> </div> "}C+=" </div> </div> "}C+=" ";if(o.content_type==1){C+=' <div class="dynamic-music dynamic-music-songlist"> <div class="dynamic-music-song clearfix pr"> <a href="/songlist/';C+=e(o.content_id);C+='" class="dynamic-music-link"></a> <img src="';C+=e(l(o.pic,"SONGLIST_PIC_150"));C+='" alt="" class="fl music-pic"> <i class="pic-bg-songlist pa"></i> <span class="music-type fl c9 f14">歌单</span> <a href="javascript:void(0)" class="song-name fl f14">';C+=e(o.title);C+='</a> <a href="javascript:void(0)" class="song-name fl f14">';C+=e(o.content_title);C+="</a> </div> </div> "}C+=" ";if(o.content_type==2){C+=' <div class="dynamic-music dynamic-music-album"> <div class="dynamic-music-song clearfix pr"> ';if(p==1){C+=' <a href="javascript:void(0)" title=\'';C+=e(f);C+='\' class="dynamic-music-link"></a> '}else{C+=' <a href="/album/';C+=e(o.content_id);C+='" class="dynamic-music-link"></a> '}C+=' <img src="';C+=e(l(o.pic,"SONGLIST_PIC_150"));C+='" alt="" class="fl music-pic"> <i class="pic-bg-album pa"></i> <span class="music-type fl c9 f14">专辑</span> <a href="javascript:void(0)" class="song-name fl f14 to">';C+=e(o.title);C+='</a> <span class=\'fl song-line\'> - </span> <a href="javascript:void(0)" class="song-author fl f14 to">';C+=e(o.artist_name);C+="</a> </div> </div> "}C+=" ";if(o.content_type==3){C+=' <div class="dynamic-music dynamic-music-author"> <div class="dynamic-music-song clearfix pr"> <a href="/artist/';C+=e(o.content_id);C+='" class="dynamic-music-link"></a> <img src="';C+=e(l(o.pic,"SONGLIST_PIC_150"));C+='" alt="" class="fl music-pic"> <a href="javascript:void(0)" class="song-author fl f14">';C+=e(o.artist_name);C+="</a> </div> </div> "}C+=" ";if(o.content_type==5){C+=' <div class="dynamic-music dynamic-music-specDetail"> <div class="dynamic-music-song clearfix pr"> <a href="http://static0.qianqian.com/h5pc/spec_detail?id=%27;C+=e(o.content_id);C+="&columnid=";C+=e(o.column_id);C+='"><img src="';C+=e(l(o.pic,"SONGLIST_PIC_150"));C+='" alt="" class="fl music-pic"></a> <div class="song-info fl"> <a href="http://static0.qianqian.com/h5pc/spec_detail?id=%27;C+=e(o.content_id);C+="&columnid=";C+=e(o.column_id);C+='" class="song-name f14 ">';C+=e(o.title);C+='</a> <div class="spec-detail-info to"> <a href="/column/detail/';C+=e(o.column_id);C+='" class="f12 c9">专栏：';C+=e(o.column_title);C+='</a>&nbsp;&nbsp;&nbsp;by&nbsp; <a href="/user?nickname=';C+=e(o.artist_name);C+='" class="f12 c9">';C+=e(o.artist_name);C+="</a> </div> </div> </div> </div> "}C+=" "}C+='  <div class="dynamic-pics-hook dynamic-pics-hook-';C+=e(t.msgid);C+="-";C+=e(t.moudleName);C+="-";C+=e(t.specFlag);C+="\" data-specflag='";C+=e(t.specFlag);C+="'></div> ";if(t.msgtype==4){t.msg_parent.moudleName=t.moudleName;u("./dynamicRepeatTmpl",{item:t.msg_parent,childid:t.msgid})}C+=" ";if(t.topic){h=t.topic.topic_id||0}else if(t.msg_parent&&t.msg_parent.topic){h=t.msg_parent.topic.topic_id||0}else{h=0}if(t.topic&&t.topic.topic_title){v=t.topic.topic_title||""}else if(t.msg_parent&&t.msg_parent.topic_title){v=t.msg_parent.topic.topic_title||0}else{v=""}if(t.msg_parent&&t.msg_parent.msgid){_=t.msg_parent.author;y=t.msg_parent.msgid}x={msgId:t.msgid,user:t.author,msgUsers:t.msg_users,topicId:h,topicTitle:v,parentUser:_||"",parentMsgId:y||""};C+=" ";if(t.hideCount){C+=" "}else if(!t.dynamicDetail){C+=' <div class="dynamic-count clearfix"> ';if(t.msgtype==4){C+=' <span class="share" data-share=\'';C+=e(j(x));C+='\'><i class="icon-share-val">';if(t.share_num==0){C+=" 转发"}else{C+=e(t.share_num)}C+='</i><i class="icon-share"></i></span> '}else{C+=' <span class="share" data-share=\'';C+=e(j(x));C+='\'><i class="icon-share-val">';if(t.share_num==0){C+="转发"}else{C+=e(t.share_num)}C+='</i><i class="icon-share"></i></span> '}C+=' <a href="http://static0.qianqian.com/dynamic/detail/%27;C+=e(t.msgid);C+=%27?ucomment=1" target="_blank" class="discuss"><i class="icon-discuss-val">';if(t.comment_num==0){C+="评论"}else{C+=e(t.comment_num)}C+='</i><i class="icon-discuss"></i></a> <span class="zan ';if(t.islike==0){C+=" add-zan "}else{C+="del-zan"}C+='" data-zantype="4" data-userid=\'';C+=e(t.author.userid);C+='\'><i class="num-zan">';if(t.zan_num==0){C+="赞"}else{C+=e(t.zan_num)}C+='</i><i class="icon-zan"></i></span> </div> '}else{C+=' <div class="dynamic-detail-count clearfix"> <div class="share-box fl pr"> ';if(t.msgtype==4){C+=' <span class="share fl" data-share=\'';C+=e(j(x));C+='\'><i class="icon-share"></i></span> '}else{C+=' <span class="share fl" data-share=\'';C+=e(j(x));C+='\'><i class="icon-share"></i></span> '}C+=' </div> <div class="fl zan-box"> <span data-userid=\'';C+=e(t.author.userid);C+="' class=\"zan fl ";if(t.islike==0){C+=" add-zan "}else{C+="del-zan"}C+='" data-zantype="4"><i class="icon-zan"></i> </span> <span class=\'zan-userlist\'> ';u("./dynamicZanUserTmpl",{item:t});C+=" </span> </div> </div> "}C+=" </div>";return new String(C)})});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/