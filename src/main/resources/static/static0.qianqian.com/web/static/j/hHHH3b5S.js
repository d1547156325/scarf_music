require(["core/utils","widget/toast/toast","tmpl/huodong/ticketnew/infoTopLeft","tmpl/huodong/ticketnew/infoTopRight","tmpl/huodong/ticketnew/infoBottomLeft","tmpl/huodong/ticketnew/infoMiddle","domain_config"],function(t,i,e,o,n,a,c){var d=$("#topLeftTmpl"),s=$("#topRightTmpl"),l=$("#bottomLeftTmpl"),r=$("#middleTmpl");t.tingApi("baidu.ting.active.getTicketActBaseInfo",{act_id:activityId}).done(function(i){if(i.error_code==22e3){d.html(e({item:i.data}))}t.tingApi("baidu.ting.active.getLaudAndInviteList",{active_id:activityId}).always(function(e){if(e.error_code==22452){e={error_code:22452};e.data={invite:{total_num:0},laud:{total_num:0},buyvip:{total_num:0}}}if(e.error_code!==22005&&e.error_code!==22001){r.html(a({down:e.data,baseinfo:i.data}))}t.tingApi("baidu.ting.active.getTicketCodeInfo",{act_id:activityId}).always(function(t){l.html(n({changema:t.data,info:i.data}));$.getScript(c.host+"/cms/common/bmEditor/template/main.js");if(e.error_code!==22452){var o=t.data.user_codes.length;if(o&&o>6&&o%6%2==1){$(".my-ul-hidden").addClass("textleft")}}})});s.html(o({info:i.data,isLogin:nickName===""?false:true,nickName:nickName}));require(["page/uuser/friend"]);$(".common-loading").remove()});l.on("click",".winner-hook",function(t){var i=$(this);var e=$(".winner-list .winner-list-hidden");var o=$(".winner-list .winner-list-hidden-my");var n=$(".winner-list .my-ul-hidden");if(i.hasClass("close")){i.removeClass("close");i.find("b").html("展开");e.css("max-height","130px");o.css("max-height","187px");n.css("max-height","134px")}else{i.addClass("close");i.find("b").html("收起");e.css("max-height","none");n.css("max-height","none")}});l.on("click",".threeplay",function(){$(".ticket-pop-hui").show()});s.on("click",".t-pop-hook",function(){$(".ticket-pop-hui").show();loggers&&loggers.sendLog({page:"vip",pos:"activity",sub:"join"})});$(".ticket-pop-hui").on("click",".t-btn",function(){$(".ticket-pop-hui").hide()});$(window).on("scroll",function(){var t=parseFloat($(window).scrollTop());var i=s.find(".top-right");if(t>=150){i.addClass("fix-top")}else{i.removeClass("fix-top")}})});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/