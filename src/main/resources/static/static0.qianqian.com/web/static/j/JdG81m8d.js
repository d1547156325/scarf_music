require(["core/utils","widget/toast/toast","widget/ushare/ushare","plugin/drag","widget/pop_window/pop_window","widget/page_navigator/page_navigator"],function(t,a,o){var i={},s={},n={},r=window.location.href.split("/");shareresult={},$el=$(".main-body"),songPageHook=".song-list-box .page-navigator-hook",albumPageHook=".album-list-box .page-navigator-hook",mvPageHook=".mv-list-box .page-navigator-hook",SIZE=15;ALBUM_SIZE=12;MV_SIZE=9;$addTo=$(".add-to"),pageHook=".page-navigator-hook",entry="";var e=function(){entry=w(window.location.search,"entry");l();u();m();if(entry=="album"){$(".tab-item").eq(1).click()}};var l=function(){var t=$(songPageHook).pageNavigator();t.bind("pagenavigator.pagechange",function(t,a){var o={start:a.start};var i=g(o,"song");o.worksList=$(".song-list-box.list-box");c(o);ting.connect.getArtistSong(i,null,function(t){$(".song-list-wrap",o.worksList).html(t.data.html);d(o);b()},function(t){$(".song-list-wrap",o.worksList).html(t.data.html);d(o)})});var a=$(albumPageHook).pageNavigator();a.bind("pagenavigator.pagechange",function(t,a){var o={start:a.start};var i=g(o,"album");o.worksList=$(".album-list-box.list-box");i.order=$(".tab-box .album-sort.sort .on").attr("type");c(o);ting.connect.getArtistAlbum(i,null,function(t){$(".album-list-wrap",o.worksList).html(t.data.html);d(o);b()},function(t){$(".album-list-wrap",o.worksList).html(t.data.html);d(o)})});var o=$(mvPageHook).pageNavigator();o.bind("pagenavigator.pagechange",function(t,a){var o={start:a?a.start:0,worksList:$(".mv-list-box.list-box")},i=g(o,"mv");i.order=$(".tab-box .mv-sort.sort .on").attr("type");c(o);ting.connect.getArtistMV(i,null,function(t){$(".mv-list-wrap",o.worksList).html(t.data.html);ting.LL&&ting.LL.add($(".lazyload",o.worksList));d(o);b()},function(t){$(".mv-list-wrap",o.worksList).html(t.data.html);d(o)})})};var v=function(){var t=setTimeout(function(){if(ting&&typeof ting.downPcClient==="function"){ting.downPcClient({$el:".down-pcClient",clientUrlPos:"web_danqu"})}else{v()}clearTimeout(t)},500)};var m=function(){var t=$(".list-box");$el.on("click",".tab-item",function(){var a=$(this).index();if($(this).hasClass("active")){return}$(this).addClass("active").siblings().removeClass("active");t.eq(a).addClass("active").siblings().removeClass("active");$(".tab-box .sort").hide();if(a==1){$(".tab-box .album-sort.sort").show()}else if(a==2){$(".tab-box .mv-sort.sort").show()}}).on("click",".sort a",function(){var t=$(this).attr("type");var a=$("#tab-box li.active").index()||1;var o={};var i={start:0};if(a==1){i.worksList=$(".album-list-box.list-box");o=g(i,"album");o.order=t;c(i);ting.connect.getArtistAlbum(o,null,function(t){$(".album-list-wrap",i.worksList).html(t.data.html);d(i)},function(t){$(".album-list-wrap",i.worksList).html(t.data.html);d(i)});$(".album-list-box .page-navigator-hook").pageNavigator("setPage",1)}else{i.worksList=$(".mv-list-box.list-box");o=g(i,"mv");o.order=t;c(i);ting.connect.getArtistMV(o,null,function(t){$(".mv-list-wrap",i.worksList).html(t.data.html);ting.LL&&ting.LL.add($(".lazyload",i.worksList));d(i)},function(t){$(".mv-list-wrap",i.worksList).html(t.data.html);d(i)});$(".mv-list-box .page-navigator-hook").pageNavigator("setPage",1)}$(this).addClass("on").siblings("a").removeClass("on")});$(window).bind("scroll",function(){var t=$(".artist-fixed");var a=$(window).scrollTop();var o;o=$(".main-body").offset().top;if(a>=o){t.addClass("show")}else{t.removeClass("show")}u()});$(window).bind("resize",function(){u()});$("body").click(function(t){var t=window.event||event;var a="pop-introduce-box";if($(t.target).hasClass("more")||$(t.target).hasClass(a)||$(t.target).closest("."+a).length>=1){return}$("."+a).hide()})};var g=function(t,a){var o=$(".artist-content"),i={start:t.start,size:SIZE,ting_uid:o.attr("ting_uid")};if(a=="album"){i.size=ALBUM_SIZE}else if(a=="mv"){i.size=MV_SIZE}return i};var c=function(t){$mask=$("<div>").attr("class","ajax-mask").css("height",t.worksList.height());$maskBox=$("<div>").attr("class","ajax-mask-box").html("加载中...");t.worksList.css({position:"relative",zoom:1}).append($mask).append($maskBox)};var d=function(t){$mask=$("<div>").attr("class","ajax-mask");$maskBox=$("<div>").attr("class","ajax-mask-box");$(".ajax-mask",t.worksList).remove();$(".ajax-mask-box",t.worksList).remove()};var u=function(){var t=document.documentElement.clientHeight;var a=$(".artist-fixed");var o=$(".like-list");if(t<=680&&a.hasClass("show")){o.addClass("overflow")}else{o.removeClass("overflow")}};var b=function(){var t=window.opera?document.compatMode=="CSS1Compat"?$("html"):$("body"):$("html,body");var a=$(".artist-content").offset().top;t.stop().animate({scrollTop:a},200)};$(".album-wrap").find(".icon-play").live("click",function(){var t=$(this).data("albumid");ting.media.playAlbum([t])});var w=function(t,a){if(!a){return false}var t=t||window.location.search;t=t.substring(1);t=t.split("&");var o=[];var i={};for(var s=0;s<t.length;s++){o=t[s].split("=");i[o[0]]=o[1]}return i[a]};e()});

/** If u are interested in our code and would like to make it robust, just contact us^^ <@音乐前端> **/
/** Generated by M3D. **/